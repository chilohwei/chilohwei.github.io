function hasPointerDevice(){return window.matchMedia&&window.matchMedia("(pointer: fine)").matches}function loadScript(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=t,o.onerror=()=>n(new Error(`Failed to load script: ${e}`)),document.head.appendChild(o)})}document.addEventListener("DOMContentLoaded",function(){if(!hasPointerDevice()||window.innerWidth<768)return;let e=document.documentElement.scrollTop,t=!1;function n(){const n=document.documentElement.scrollTop,o=n-e,i=document.getElementById("J_header");i&&(i.className=o>0&&n>0?"header-menu header-menu-overflow":"header-menu"),e=n,t=!1}document.addEventListener("scroll",function(){t||(requestAnimationFrame(n),t=!0)},{passive:!0});const o=window.innerWidth,i=document.getElementById("J_firework_canvas");if(!i)return;i.width=o,i.height=260;const c=i.getContext("2d");if(!c)return;const r=[],s={x:0,y:9999};function d(e,t,n,o,s){this.x=e,this.y=t,this.width=o,this.color=s,this.alpha=Math.random()-.1,this.speed=n,this.active=!0,this.physx=function(){this.y+=this.speed,this.y>i.height&&this.kill()},this.kill=function(){r.splice(r.indexOf(this),1),this.active=!1},this.draw=function(){c.beginPath(),c.arc(this.x,this.y,this.width,0,2*Math.PI,!0),c.fillStyle=this.color,c.lineWidth=this.width,c.save(),c.globalAlpha=this.alpha,c.fill(),c.restore()}}!function e(){c.clearRect(0,0,i.width,i.height);for(let e=0;e<5;e++){const e=s.x+10*Math.random(),t=s.y+10*Math.random();r.push(new d(e,t,1+2*Math.random(),5,"white"))}for(let e=r.length-1;e>=0;e--){const t=r[e];t.active?(t.draw(),t.physx()):r.splice(e,1)}requestAnimationFrame(e)}(),document.addEventListener("mousemove",e=>{s.x=e.pageX,s.y=e.pageY},{passive:!0}),document.addEventListener("mouseleave",()=>{s.x=0,s.y=9999});const a=document.getElementById("J_qr_text");a&&a.offsetParent&&loadScript("https://gw.alipayobjects.com/os/k/qa/qrcode.min.js").then(()=>{if(window.QRCode){const e=document.getElementById("J_qr_code");e&&new QRCode(e,{width:128,height:128,useSVG:!0,text:window.location.href,correctLevel:QRCode.CorrectLevel.L})}}).catch(console.error);const h=document.querySelectorAll(".entry-content img");h.length>0&&loadScript("https://gw.alipayobjects.com/os/k/x5/intense.min.js").then(()=>{window.Intense&&Intense(h)}).catch(console.error)},!1);