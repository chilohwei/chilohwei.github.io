.highlight {
  position: relative;
  margin-bottom: 1.5em;
  font-size: 13px;
  color: #abb2bf;
  background-color: #1e1e2e;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  overflow: hidden;

  // Copy button positioned at top-right
  .copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    z-index: 10;
    padding: 4px 10px;
    font-size: 11px;
    font-weight: 500;
    color: #6c7086;
    background-color: transparent;
    border: 1px solid #313244;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;

    &:hover {
      background-color: #313244;
      color: #cdd6f4;
    }

    &.copied {
      color: #a6e3a1;
      border-color: #a6e3a1;
    }
  }

  // Wrap mode styles
  &.wrap-enabled {
    pre {
      white-space: pre-wrap;
      word-wrap: break-word;
      word-break: break-all;
    }

    code {
      white-space: pre-wrap;
      word-wrap: break-word;
      word-break: break-all;
    }
  }

  pre {
    position: relative;
    margin: 0;
    padding: 16px;
    font-size: 14px;
    line-height: 1.6;
    overflow-x: auto;
    white-space: pre;

    &::-webkit-scrollbar {
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: #181825;
      border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
      background: #45475a;
      border-radius: 4px;

      &:hover {
        background: #585b70;
      }
    }

    // Remove first empty line if exists
    code {
      display: block;

      &::before {
        content: none;
      }
    }
  }

  code {
    font-family: "JetBrains Mono", "Fira Code", "SF Mono", Consolas, monospace;
    font-size: 13px;
    line-height: 1.6;
    white-space: pre;
  }

  .lineno {
    display: inline-block;
    min-width: 2em;
    padding-right: 16px;
    color: #45475a;
    text-align: right;
    user-select: none;
  }

  // Language label header - only show when data-lang is set
  .code-lang {
    display: block;
    padding: 8px 16px;
    font-size: 12px;
    font-weight: 500;
    color: #6c7086;
    background-color: #181825;
    border-bottom: 1px solid #313244;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  // Catppuccin Mocha inspired syntax highlighting
  .hll { background-color: #313244; }
  
  // Comments
  .c, .cm, .cp, .c1, .cs { color: #6c7086; font-style: italic; }
  
  // Errors
  .err { color: #f38ba8; }
  
  // Keywords
  .k, .kc, .kd, .kp, .kr, .kt { color: #cba6f7; }
  .kn { color: #f38ba8; }
  
  // Literals
  .l { color: #fab387; }
  
  // Names
  .n { color: #cdd6f4; }
  .na { color: #89dceb; }
  .nb { color: #f9e2af; }
  .nc { color: #f9e2af; }
  .nd { color: #89dceb; }
  .ne { color: #a6e3a1; }
  .nf { color: #89b4fa; }
  .ni { color: #cdd6f4; }
  .nl { color: #cdd6f4; }
  .nn { color: #cdd6f4; }
  .no { color: #fab387; }
  .nt { color: #f38ba8; }
  .nv { color: #cdd6f4; }
  .nx { color: #89b4fa; }
  .py { color: #cdd6f4; }
  
  // Operators
  .o, .ow { color: #94e2d5; }
  
  // Punctuation
  .p { color: #cdd6f4; }
  
  // Strings
  .s, .sb, .sc, .sd, .s2, .se, .sh, .si, .sx, .sr, .s1, .ss { color: #a6e3a1; }
  .ld { color: #a6e3a1; }
  
  // Numbers
  .m, .mf, .mh, .mi, .mo, .il { color: #fab387; }
  
  // Generic
  .ge { font-style: italic; }
  .gs { font-weight: bold; }
  
  // Variables
  .bp, .vc, .vg, .vi { color: #cdd6f4; }
  
  // Whitespace
  .w { color: #cdd6f4; }
}
